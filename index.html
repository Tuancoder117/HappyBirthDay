<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gửi Giang</title>
    <link rel="stylesheet" href="style.css">
    <link rel="icon" type="image/png" href="./images/tim.png">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <script src="https://code.jquery.com/jquery-3.7.1.min.js" integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>
</head>
<body>
    <audio id="myAudio" autoplay>
        <source src="./audio/sn.mp3" type="audio/mpeg">
    </audio>
    <div id="gift-screen">
    <div class="gift-box" onclick="openGift()">
      🎁
      <p>Bấm để mở quà</p>
    </div>
    </div>

     <div id="main-content" style="display: none;">
   <div class="love-note-wrapper">
  <div class="love-note-track">
    <div class="love-note">💌 Giang ơi, chúc mừng sinh nhật nheee 💕</div>
    <div class="love-note">💌 Đỗ Nguyện Vọng 1 nhe 💕</div>
    <div class="love-note">💌 Phải luôn luôn vui vẻ biết chưaaaa 💕</div>
    <div class="love-note">💌 Tuổi mới, cứ sống đúng với mình là được - vậy là đủ tuyệt vời rồi 💕</div>
     <div class="love-note">💌 Sẽ làm được tất cả mọi thứ mình mong muốn nha 💕</div>

      <div class="love-note">💌 Giang ơi, chúc mừng sinh nhật nheee 💕</div>
    <div class="love-note">💌 Đỗ Nguyện Vọng 1 nhe 💕</div>
    <div class="love-note">💌 Phải luôn luôn vui vẻ biết chưaaaa 💕</div>
    <div class="love-note">💌 Tuổi mới, cứ sống đúng với mình là được - vậy là đủ tuyệt vời rồi 💕</div>
     <div class="love-note">💌 Sẽ làm được tất cả mọi thứ mình mong muốn nha 💕</div>

<div class="love-note">💌 Giang ơi, chúc mừng sinh nhật nheee 💕</div>
    <div class="love-note">💌 Đỗ Nguyện Vọng 1 nhe 💕</div>
    <div class="love-note">💌 Phải luôn luôn vui vẻ biết chưaaaa 💕</div>
    <div class="love-note">💌 Tuổi mới, cứ sống đúng với mình là được - vậy là đủ tuyệt vời rồi 💕</div>
     <div class="love-note">💌 Sẽ làm được tất cả mọi thứ mình mong muốn nha 💕</div>




  </div>
</div>

    <div id="wrapper">
        <div class="flag__birthday">
            <img src="./images/1.png" alt="" width="350" class="flag__left">
            <img src="./images/1.png" alt="" width="350" class="flag__right">
        </div>
        <div class="content">
            <div class="left">
                <div class="title">
                    <h1 class="happy">
                        <span style="--t: 4s;">H</span>
                        <span style="--t: 4.2s;">a</span>
                        <span style="--t: 4.4s;">p</span>
                        <span style="--t: 4.6s;">p</span>
                        <span style="--t: 4.8s;">y</span>
                    </h1>
                    <h1 class="birthday">
                        <span style="--t: 5s;">B</span>
                        <span style="--t: 5.2s;">i</span>
                        <span style="--t: 5.4s;">r</span>
                        <span style="--t: 5.6s;">t</span>
                        <span style="--t: 5.8s;">h</span>
                        <span style="--t: 6s;">d</span>
                        <span style="--t: 6.2s;">a</span>
                        <span style="--t: 6.4s;">y</span>
                    </h1>
                    <div class="hat">
                        <img src="./images/hat.png" alt="" width="130">
                    </div>
                </div>
                <div class="date__of__birth">
                    <span></span>
                </div>
                <div class="btn">
                    <button id="btn__letter">
                        Ấn vào đây nè 
                        <i class="fa-regular fa-envelope"></i>
                    </button>
                </div>
            </div>
            <div class="right">
                <div class="box__account">
                    <div class="image">
                        <img src="https://i.pinimg.com/474x/bf/d1/1c/bfd11ccafab79434c92931fceb93f89a.jpg" alt="">
                    </div>
                    <div class="name">
                        <i class="fa-solid fa-heart"></i>
                        <div class="name-span">
                            <span>Nguyễn Viết Châu Giang</span>
                        </div>
                        <i class="fa-solid fa-heart"></i>
                    </div>
                    <div class="balloon_one">
                        <img width="100px" src="./images/balloon1.png" alt="">
                    </div>
                    <div class="balloon_two">
                        <img width="100px" src="./images/balloon2.png" alt="">
                    </div>
                </div>
                <div class="cricle">
                    <div class="text__cricle">
                        <span style="--i: 1;">h</span>
                        <span style="--i: 2;">a</span>
                        <span style="--i: 3;">p</span>
                        <span style="--i: 4;">p</span>
                        <span style="--i: 5;">y</span>
                        <span style="--i: 6;">-</span>
                        <span style="--i: 7;">b</span>
                        <span style="--i: 8;">i</span>
                        <span style="--i: 9;">r</span>
                        <span style="--i: 10;">t</span>
                        <span style="--i: 11;">h</span>
                        <span style="--i: 12;">d</span>
                        <span style="--i: 13;">a</span>
                        <span style="--i: 14;">y</span>
                        <span style="--i: 15;">-</span>
                    </div>
                    <i class="fa-solid fa-heart"></i>
                </div>
            </div>
        </div>
        <div class="decorate_star star1" style="--t: 15s;"></div>
        <div class="decorate_star star2" style="--t: 15.2s;"></div>
        <div class="decorate_star star3" style="--t: 15.4s;"></div>
        <div class="decorate_star star4" style="--t: 15.6s;"></div>
        <div class="decorate_star star5" style="--t: 15.8s;"></div>
        <div class="decorate_flower--one" style="--t: 15s;">
            <img width="20" src="./images/decorate_flower.png" alt="">
        </div>
        <div class="decorate_flower--two" style="--t: 15.3s;">
            <img width="20" src="./images/decorate_flower.png" alt="">
        </div>
        <div class="decorate_flower--three" style="--t: 15.6s;">
            <img width="20" src="./images/decorate_flower.png" alt="">
        </div>
        <div class="decorate_bottom">
            <img src="./images/decorate.png" alt="" width="100">
        </div>
        <div class="smiley__icon">
            <img src="./images/smiley_icon.png" alt="" width="100">
        </div>

        

        <div class="box__letter">
            <div class="letter__border">
                <div class="letter">
                    <div class="title__letter">
                    </div>
                    <div class="content__letter">
                        <div class="left">
                            <img id="heart__letter" src="https://media.giphy.com/media/YKUvclrGYmDKXwtphf/giphy.gif" alt="">
                            <img class="heart heart_1" style="--t: 0.2s" width="20" src="./images/heart.png" alt="">
                            <img class="heart heart_2" style="--t: 0.4s" width="20" src="./images/heart.png" alt="">
                            <img class="heart heart_3" style="--t: 0.6s" width="20" src="./images/heart.png" alt="">
                            <img class="heart heart_4" style="--t: 0.8s" width="20" src="./images/heart.png" alt="">
                        </div>
                        <div class="right">
                            <div class="text__letter">
                                 <p></p>
                            </div>
                            <img id="mewmew" width="80" src="./images/mewmew.gif" alt="">
                        </div>
                    </div>
                </div>
                <div class="close">
                    <i class="fa-solid fa-xmark"></i>
                </div>
            </div>
        </div>

        <div class="footer-message">
            <p style="color: black;">💌 Lướt xuống bên dưới nữa nha 💫</p>
        </div>

    </div>


    <div class="memory-gallery">

    <img src="./images/no.png" alt="Ảnh nơ" class="block">
    <h2>📸 Kỷ niệm cùng Giang</h2>
    <div class="gallery-grid">

            <div class="angle-hint">
                <div class="hint-text">Bấm vào ảnh để thấy điều bất ngờ 🎁</div>
            </div>

        <div class="memory" data-date="2025-07-06">
            <img src="./images/memory (1).jpg" alt="Memory 1">
            <p>PhotoBooth nèeeee</p>
            
        </div>

        <div class="memory"  data-date="2025-07-15">
            <img src="./images/memory (2).jpg" alt="Memory 2">
            <p>Ảnh Tứn chụp ở Hội An nèeeee</p>
        </div>

        <div class="memory" data-date="2025-07-06">
            <img src="./images/memory (3).jpg" alt="Memory 3">
            <p>Thành quả chờ đợi 30ph ở PhotoBooth</p>
        </div>
        
        <div class="memory" data-date="2025-07-06">   
            <img src="./images/memory (4).jpg" alt="Memory 4">
            <p>Làm màu đồ đó</p>
        </div>

        <div class="memory" data-date="2025-07-24">   
            <img src="./images/memory (5).jpg" alt="Memory 4">
            <p>Câu cá mà người có chút ét vậy đó</p>
        </div>

        <div class="memory" data-date="2025-07-15">   
            <img src="./images/memory (6).jpg" alt="Memory 4">
            <p>Bắt đầu của một ngày đi bộ rớt chân=))</p>
        </div>

        <div class="memory" data-date="2025-07-06">   
            <img src="./images/memory (7).jpg" alt="Memory 4">
            <p>Đi xem cầu rồng nghe giá ly nước hết hồn lìn</p>
        </div>

        <div class="memory" data-date="2025-07-15">
            <img src="./images/memory (8).jpg" alt="Memory 1">
            <p>Nhậu cùng nhau nè</p>
        </div>

        <div class="memory" data-date="2025-05-11">
            <img src="./images/memory (9).jpg" alt="Memory 1">
            <p>Tự nhiên được rủ đi chụp kỉ yếu =))</p>
        </div>
    </div>

    <!-- Popup Modal -->
<div id="memoryModal" class="modal">
  <div class="modal-content">
    <span class="close-modal">&times;</span>
    <img id="modal-img" src="" alt="">
    <p id="modal-caption"></p>
    <p id="modal-date" style="color: #888; font-size: 14px; margin-top: 5px;"></p>
  </div>
</div>

</div>
</div>
</body>
<script>
    window.onload = function() {
  // Kiểm tra nếu người dùng đã từng tương tác
  document.body.addEventListener("click", function () {
    document.getElementById("myAudio").play();
  }, { once: true });
};

    let datetxt = "05-08-2007";
    let datatxtletter = "Chúc Giang tuổi mới thật nhiều niềm vui, sức khỏe và đạt được nhiều thành công mới trên chặng đường sắp tới. Mong Giang sẽ làm được những điều mà Giang luôn ấp ủ – dù nó có lớn hay nhỏ – miễn là khiến cho Giang vui và thấy hạnh phúc.Đặc biệt là… hãy luôn giữ nụ cười ở trên môi, vì đó là điều khiến mọi thứ quanh trở nên dễ chịu hơn. 😊Chúc Giang có một sinh nhật thật trọn vẹn, giản dị mà ấm áp, và một tuổi mới với nhiều điều tốt lành đang chờ đợi ở phía trước."
    let titleLetter = "Gửi Giang";
    let charArrDate = datetxt.split('');
    let charArrDateLetter = datatxtletter.split('');
    let charArrTitle = titleLetter.split('');
    let currentIndex = 0;
    let currentIndexLetter = 0;
    let currentIndexTitle = 0;
    let date__of__birth = document.querySelector(".date__of__birth span");
    let text__letter = document.querySelector(".text__letter p");
    setTimeout(function(){
        timeDatetxt = setInterval(function(){
            if(currentIndex < charArrDate.length){
                date__of__birth.textContent += charArrDate[currentIndex];
                currentIndex++;
            }
            else{
                let i = document.createElement("i");
                i.className = "fa-solid fa-star"
                document.querySelector(".date__of__birth").prepend(i)
                document.querySelector(".date__of__birth").appendChild(i.cloneNode(true))
                clearInterval(timeDatetxt)
            }
        },100)
    },12000)

    var intervalContent;
    var intervalTitle;
    $("#btn__letter").on("click", function(){
          $(".love-note-wrapper").hide(); // Ẩn dòng chạy
        $(".box__letter").slideDown()
        setTimeout(function(){
            $(".letter__border").slideDown();
        },1000)
        setTimeout(function(){
            intervalTitle = setInterval(function(){
                if(currentIndexTitle < charArrTitle.length){
                    document.querySelector(".title__letter").textContent += charArrTitle[currentIndexTitle];
                    let i = document.createElement("i");
                    i.className = "fa-solid fa-heart"
                    document.querySelector(".title__letter").appendChild(i)
                    currentIndexTitle++;
                }
                else{
                    clearInterval(intervalTitle)
                }
            },100)
        },2000)
        setTimeout(function(){
            document.querySelector("#heart__letter").classList.add("animationOp");
            document.querySelector("#mewmew").classList.add("animationOp");
        },2800)
        setTimeout(function(){
            document.querySelectorAll(".heart").forEach((item)=>{
                item.classList.add("animation")
            })
        },3500)
        setTimeout(function(){
            intervalContent = setInterval(function(){
                if(currentIndexLetter < charArrDateLetter.length){
                    text__letter.textContent += charArrDateLetter[currentIndexLetter];
                    currentIndexLetter++;
                }
                else{
                    clearInterval(intervalContent)
                }
            },50)
        },6000)
    })
    $(".close").on("click", function(){
        $(".love-note-wrapper").show(); // Hiện lại dòng chạy
        clearInterval(intervalContent)
        document.querySelector(".title__letter").textContent = "";
        text__letter.textContent = "";
        currentIndexLetter = 0
        currentIndexTitle = 0
        document.querySelector("#heart__letter").classList.remove("animationOp");
        document.querySelector("#mewmew").classList.remove("animationOp");
        document.querySelectorAll(".heart").forEach((item)=>{
                item.classList.remove("animation")
            })
        $(".box__letter").slideUp();
        $(".letter__border").slideUp();
    })
function createHeart() {
  const heart = document.createElement("div");
  heart.classList.add("heart");
  heart.style.left = Math.random() * 100 + "vw";
  heart.style.top = "100vh";
  document.body.appendChild(heart);
  setTimeout(() => heart.remove(), 2000);
}

setTimeout(() => {
    document.querySelector('.footer-message').classList.add('show');
  }, 15000);
// Popup Modal for Memory
document.querySelectorAll('.memory').forEach(item => {
  item.addEventListener('click', () => {
    const imgSrc = item.querySelector('img').src;
    const caption = item.querySelector('p').textContent;
    document.getElementById('modal-img').src = imgSrc;
    document.getElementById('modal-caption').textContent = caption;
    document.getElementById('memoryModal').style.display = 'block';
  });
});

document.querySelector('.close-modal').addEventListener('click', () => {
  document.getElementById('memoryModal').style.display = 'none';
});

// Đóng khi bấm bên ngoài popup
window.addEventListener('click', function(e) {
  const modal = document.getElementById('memoryModal');
  if (e.target === modal) {
    modal.style.display = 'none';
  }
});

document.querySelectorAll('.memory').forEach(item => {
  item.addEventListener('click', () => {
    const imgSrc = item.querySelector('img').src;
    const caption = item.querySelector('p').textContent;
    const date = item.dataset.date || "Không rõ ngày";

    document.getElementById('modal-img').src = imgSrc;
    document.getElementById('modal-caption').textContent = caption;
    document.getElementById('modal-date').textContent = "📅 " + formatDate(date);

    document.getElementById('memoryModal').style.display = 'block';
  });
});

function formatDate(dateStr) {
  const options = { day: '2-digit', month: 'long', year: 'numeric' };
  const date = new Date(dateStr);
  return date.toLocaleDateString('vi-VN', options);
}

document.addEventListener('click', (e) => {
  const heart = document.createElement('div');
  heart.className = 'click-heart';
  heart.style.left = e.clientX + 'px';
  heart.style.top = e.clientY + 'px';
  document.body.appendChild(heart);
  setTimeout(() => heart.remove(), 1000);
});

document.addEventListener('mousemove', e => {
    const sparkle = document.createElement('div');
    sparkle.className = 'sparkle';
    sparkle.style.left = e.pageX + 'px';
    sparkle.style.top = e.pageY + 'px';
    document.body.appendChild(sparkle);
    setTimeout(() => sparkle.remove(), 500);
  });

  function openGift() {
    const giftScreen = document.getElementById("gift-screen");
    const mainContent = document.getElementById("main-content");

    // Tùy bạn: thêm hiệu ứng trước khi chuyển
    giftScreen.classList.add("fade-out");

    // Sau 1.5s ẩn hộp quà và hiện nội dung
    setTimeout(() => {
      giftScreen.style.display = "none";
      mainContent.style.display = "block";
    }, 1500);
  }

     function openGift() {
      document.getElementById('gift-screen').style.display = 'none';
      document.getElementById('main-content').style.display = 'block';
      setTimeout(() => window.dispatchEvent(new Event('resize')), 100); // cập nhật lại layout
    }


</script>
</html>
